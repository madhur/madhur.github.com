<!DOCTYPE html>

<html lang="en">
<head>
   <meta charset="utf-8" />
   <title>Making most out of _data directory in Jekyll &#8211; Madhur Ahuja</title>
   <meta name="author" content="Madhur Ahuja" />
   
    
		<meta name="description" content=" Making most out of _data directory in Jekyll" />
	

    <link rel="start" href="/" />

	
	
  	<link rel="alternate" type="application/atom+xml" href="http://feeds.feedburner.com/madhur" title="RSS feed" />
	<link rel="shortcut icon" href="http://www.gravatar.com/avatar/5352cde0b084abcd6d4d783c08a51c76?s=16" />
   
	<link rel="stylesheet" href="/files/css/blueprint/screen.css" type="text/css" />   	
	<!--<link rel="stylesheet" href="/files/css/disqus-form.css" type="text/css" /> -->
	
	<!--<link rel="stylesheet" href="/files/css/syntax.css" type="text/css" />-->
	<link rel="stylesheet" href="/files/font-awesome/css/font-awesome.min.css" type="text/css" />
	<link rel="stylesheet" href="/files/css/jquery.fancybox.css" type="text/css" />
	
	<link rel="stylesheet" type="text/css" href="/files/css/styles.css" />
	
	
		<link rel="stylesheet" type="text/css" href="/files/css/syntax.css" />
	
			
   <link rel="stylesheet" type="text/css" media="print" href="/files/css/print.css">
   
   
	<script src="/files/js/jquery.js" type="text/javascript"></script>	
	<script src="/files/js/jquery.fancybox.pack.js" type="text/javascript"></script>
	
	<!--[if lt IE 9]>
		<script src="/files/js/modernizr-2.5.3.js" type="text/javascript"></script>
	<![endif]-->
	
	<script type="text/javascript">
	var disqus_iframe_css = 'http://madhur.co.in/files/css/disqus-form.css';
	</script>
	
	
	<script src="/files/js/URI.js" type="text/javascript"></script>
	<script src="/files/js/site.js" type="text/javascript"></script>
	
	<script type="text/javascript">
	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-23769089-1']);
	  _gaq.push(['_trackPageview']);

	  (function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();

	</script>
		
	
</head>
<body>
<div id="gradient">
	<div id="container" class="container">
		<header id="header" class="span-24 last">

			<div id="logo">
<ul>
<li><a href="http://www.linkedin.com/in/madhurahuja"><img src="/images/linkedinhigh.png" /></a></li>
<li><a href="https://github.com/madhur"><img src="/images/github_32.png"/></a></li>
<li><a href="http://feeds.feedburner.com/madhur"><img src="/images/rsshigh.png" /></a></li>
</ul>
</div>


<nav id="navigation">
				<ul id="nav">
					<li><a class="madhur" href="/">Madhur Ahuja</a></li>
					<li><a class="home" href="/">Home</a></li>
					<li><a class="blog" href="/blog">Blog</a></li>
					<!--<li><a class="work" href="/work">Resume</a></li>-->
					<li><a class="code" href="/projects">Projects</a></li>
					<!--<li><a class="papers" href="/papers">Papers</a></li>--> 
					<li><a class="info" href="/info">About</a></li>
					<li><a class="contact" href="/contact">Contact</a></li>

				</ul>
				
				
</nav>
<div class="c">
&nbsp;
</div>



		</header>
		<div id="content" class="span-24 last">

			<section id="primary" class="span-24 last">

	<div id="blogcontent">

		<aside class="postmeta full span-5">

			<div class="timestamp">
	<time datetime="2013-11-05 00:00:00 +0530" pubdate="pubdate">05 November 2013</time>

	<br>
	<span pubdate="pubdate" class="time">9:00 PM</span>
</div> 

<div class="actions">
<ul> 
								<li><a href="/blog/2013/11/05/makingmostdatadirectory.html#disqus_thread" data-disqus-identifier="/2013/11/05/makingmostdatadirectory/" class="comment">View Comments</a></li> 

<script type="text/javascript">

	var disqus_developer = 0;
		var disqus_shortname = 'madhur';
		var disqus_iframe_css = "http://madhur.github.com/css/screen.css";
			var links = document.getElementsByTagName('a');
			var query = '?';
			
					query += 'url=' + encodeURIComponent(window.location.href) + '&';
					//alert(query);
				
			
	document.write('<script type="text/javascript" src="http://disqus.com/forums/madhur/get_num_replies.js?url2=' + encodeURIComponent(window.location.url) + '#disqus_thread"></' + 'script>');
	

</script>


								<li><span class="share" title="Click to expand">share this post</span> 
									<ul class="sharing" style="display:none"> 
										<li class="first"><a href="http://blinklist.com/index.php?Action=Blink/addblink.php&amp;Url=/blog/2013/11/05/makingmostdatadirectory.html&amp;Title=Making most out of _data directory in Jekyll" id="share_blinklist" title="Share on BlinkList" rel="nofollow">BlinkList</a></li> 
										<li><a href="http://del.icio.us/post?url=http://madhur.co.in/blog/2013/11/05/makingmostdatadirectory.html&amp;title=Making most out of _data directory in Jekyll" id="share_delicious" title="Add to del.icio.us" rel="nofollow">del.icio.us</a></li> 
										<li><a href="http://digg.com/submit?url=http://madhur.co.in/blog/2013/11/05/makingmostdatadirectory.html" id="share_digg" title="Digg This!" rel="nofollow">Digg</a></li> 
										<li><a href="http://www.facebook.com/share.php?u=http://madhur.co.in/blog/2013/11/05/makingmostdatadirectory.html" id="share_facebook" title="Share on Facebook" rel="nofollow">Facebook</a></li> 
										<li><a href="http://reddit.com/submit?url=http://madhur.co.in/blog/2013/11/05/makingmostdatadirectory.html&amp;title=Making most out of _data directory in Jekyll" id="share_reddit" title="Share on Reddit" rel="nofollow">Reddit</a></li> 
										<li><a href="http://www.stumbleupon.com/submit?url=http://madhur.co.in/blog/2013/11/05/makingmostdatadirectory.html&amp;title=Making most out of _data directory in Jekyll" id="share_stumbleupon" title="Share on StumbleUpon" rel="nofollow">StumbleUpon</a></li> 
										<li><a href="http://twitter.com/home?status=http://madhur.co.inMaking most out of _data directory in Jekyll%3A%20/blog/2013/11/05/makingmostdatadirectory.html" id="share_twitter" title="Tweet this!" rel="nofollow">Twitter</a></li> 
										<li class="last"><a href="http://www.technorati.com/faves?add=http://madhur.co.in/blog/2013/11/05/makingmostdatadirectory.html" id="share_technorati" title="Favourite on Technorati" rel="nofollow">Technorati</a></li> 
									</ul> 
								</li> 
								<li><a href="http://feeds.feedburner.com/madhur" class="subscribe">subscribe to this blog</a></li> 
								
								<li><a href="javascript:Clickheretoprint()" class="subscribe">print this page</a></li> 								
								<li><a href="/blog/2013/11/05/makingmostdatadirectory.html" class="permalink">permalink</a></li> 
															</ul> 

</div>

<div class="category">
<h3>Advert</h3>
	<script type="text/javascript"><!--
google_ad_client = "ca-pub-1657163894706869";
/* madhur.co.in right side */
google_ad_slot = "3156850124";
google_ad_width = 160;
google_ad_height = 600;
//-->
</script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>


</div>


		</aside>

		<article class="post full span-18 last">
					<header><h1>Making most out of _data directory in Jekyll</h1></header>
			 <p>Jekyll 1.3.0 comes with exciting new features especially the use of <code>\_data</code> directories. The <code>\_data</code> directory is very useful in cases where you want to store
metadata related to your site or blog and want to load it in runtime. Earlier people used to put this in <code>\_config.yml</code> which was kind of a hack.</p>

<h2 id="how-can-you-make-most-out-of-data-directory-">How can you make most out of _data directory ?</h2>

<p>If you’ve a file <code>trucks.yaml</code> under <code>\_data</code>, then you can access it with </p>

<div class="highlight"><pre><code class="text">{% for truck in site.data.trucks %}</code></pre></div>

<p>So you can have <code>members.yaml, projects.yaml, products.yaml</code> under <code>\_data</code>, and access them respectively as</p>

<div class="highlight"><pre><code class="text">site.data.members
site.data.projects 
site.data.products</code></pre></div>

<p>For instance, this current site itself makes use of <code>\_data</code> directory extensively. Have a look at <a href="/projects">Projects</a> section.</p>

<p>The entire left navigation of <a href="/projects">Projects</a> section is driven dynamically through a simple YAML file in <code>\_data</code> directory, which is <a href="https://github.com/madhur/madhur.github.com/blob/source/_data/projects.yaml"><code>projects.yaml</code></a> and looks like:</p>

<div class="highlight"><pre><code class="yaml"><span class="nn">---</span>
<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">project</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Hermes</span>
  <span class="l-Scalar-Plain">category</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Android</span>
  <span class="l-Scalar-Plain">publish</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>
  <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Hermes is an attempt to provide a sense of security to all the travelers</span> 
  <span class="l-Scalar-Plain">of all over the world and especially the women in India who use the public transport to</span> 
  <span class="l-Scalar-Plain">commute to their work place and back home.</span>
  
<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">project</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">Silverlight Organization Chart for SharePoint</span>
  <span class="l-Scalar-Plain">category</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">SharePoint</span>
  <span class="l-Scalar-Plain">publish</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>
  <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">A silverlight Chart control which retrieves data from the SharePoint list.</span> 
  
<span class="p-Indicator">-</span> <span class="l-Scalar-Plain">project</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">STP Inspector</span>
  <span class="l-Scalar-Plain">category</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">SharePoint</span>
  <span class="l-Scalar-Plain">publish</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">yes</span>
  <span class="l-Scalar-Plain">description</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">STP Inspector is an site template inspector for WSS/MOSS 2007.</span> 
  <span class="l-Scalar-Plain">It analyzes a site template file (.stp) and basically shows its dependencies on the site</span> 
  <span class="l-Scalar-Plain">features and site collection features.</span></code></pre></div>

<p>Now what I can in Jekyll is simply refer to Project Name, category, description using the site variable array as <code>site.data.projects</code> and loop through it using</p>

<div class="highlight"><pre><code class="html">{% for project in site.data.projects %}
{{ project.project }}
{% endfor %}</code></pre></div>

<p>Using the simple structure above, I have dynamically generated both my left navigation and content page. In future, if I work on a new project, I just need to edit the <code>projects.yaml</code> file and Jekyll would automatically update the left navigation and content page.</p>

<p>This is the simple code of generating left navigation which I have done in my includes file  <a href=""><code>projects-left.html</code></a></p>

<div class="highlight"><pre><code class="html"><span class="nt">&lt;div</span> <span class="na">id=</span><span class="s">&quot;projects&quot;</span><span class="nt">&gt;</span>
    <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;single&quot;</span><span class="nt">&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;/projects&quot;</span><span class="nt">&gt;</span>Projects<span class="nt">&lt;/a&gt;&lt;/p&gt;</span>

    {% for category in site.data.categories %}
        <span class="nt">&lt;p</span> <span class="na">class=</span><span class="s">&quot;project-category&quot;</span><span class="nt">&gt;</span>{{ category.category }}<span class="nt">&lt;/p&gt;</span>
            <span class="nt">&lt;ul</span> <span class="na">class=</span><span class="s">&quot;subcategory&quot;</span><span class="nt">&gt;</span>

                {% for project in site.data.projects %}
                
                    {% if project.category == category.category and project.publish == true %}
                        <span class="nt">&lt;li&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;/projects/{{ project.project }}.html&quot;</span><span class="nt">&gt;</span>{{ project.project }}<span class="nt">&lt;/a&gt;&lt;/li&gt;</span>
                    {% endif %}

                {% endfor %}
        <span class="nt">&lt;/ul&gt;</span>
    {% endfor %}

<span class="nt">&lt;/div&gt;</span></code></pre></div>

<p>This is how I generate my content page which nicely generates the project names along with descriptions. You can have a look at source <a href="https://raw.github.com/madhur/madhur.github.com/source/projects/index.markdown">here</a></p>

<div class="highlight"><pre><code class="html">{% for project in site.data.projects %}
                    
    {% if project.publish == true %}
        <span class="nt">&lt;strong&gt;&lt;a</span> <span class="na">href=</span><span class="s">&quot;/projects/{{ project.project }}.html&quot;</span><span class="nt">&gt;</span>{{ project.project }}<span class="nt">&lt;/a&gt;&lt;/strong&gt;</span>
        
        <span class="nt">&lt;span</span> <span class="na">class=</span><span class="s">&quot;tag-project&quot;</span><span class="nt">&gt;</span>{{ project.category }}<span class="nt">&lt;/span&gt;</span>
        {{ project.description }}
        <span class="nt">&lt;hr/&gt;</span>
    {% endif %}
        
{% endfor %}
<span class="nt">&lt;/div&gt;</span></code></pre></div>

<p>This is where <code>\_data</code> directory comes in handy where you don’t want to embed little pieces of information regarding your site in dirty repeating html. Using <code>\_data</code> directory, you can make the information which is going to change over the period of time structured and also provide dynamism at the same time.</p>


			<footer>
				<div class="blocked tags">
					<p>
					
						<a href="/tags/jekyll">Jekyll</a> |
					
					</p>
				</div>
			</footer>
			
			<br/>
			<div>


				<!-- Enable social features -->
				<!-- Place this tag where you want the +1 button to render -->
<div class="social">
	

<div class="g-plusone" data-size="tall"></div>

<a href="https://twitter.com/share?count=vertical" class="twitter-share-button" data-via="madhur25">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>



<script src="//platform.linkedin.com/in.js" type="text/javascript">
  lang: en_US
</script>
<script type="IN/Share" data-counter="top"></script>

<script id='fbjtdqx'>(function(i){var f,s=document.getElementById(i);f=document.createElement('iframe');f.src='//api.flattr.com/button/view/?uid=madhur_ahuja&url='+encodeURIComponent(document.URL);f.title='Flattr';f.height=62;f.width=55;f.style.borderWidth=0;s.parentNode.insertBefore(f,s);})('fbjtdqx');</script>

<a href="http://bufferapp.com/add" class="buffer-add-button" data-count="vertical" >Buffer</a><script type="text/javascript" src="https://d389zggrogs7qo.cloudfront.net/js/button.js"></script>


<a data-pocket-label="pocket" data-pocket-count="vertical" class="pocket-btn" data-lang="en"></a>
<script type="text/javascript">!function(d,i){if(!d.getElementById(i)){var j=d.createElement("script");j.id=i;j.src="https://widgets.getpocket.com/v1/j/btn.js?v=1";var w=d.getElementById(i);d.body.appendChild(j);}}(document,"pocket-btn-js");</script>



</div>





<!-- Place this tag after the last plusone tag -->
<!-- Place this tag after the last +1 button tag. -->
<script type="text/javascript">
  (function() {
    var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
    po.src = 'https://apis.google.com/js/platform.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
  })();
</script>



			</div>
			
			
			<div class="hr"></div>

		


			<!-- Discus Comments -->
			<div id="disqus_thread"></div>

			
			<!-- Enable Disqus comments -->
			<script type="text/javascript">
  var disqus_developer = 0; // developer mode is on
  var disqus_shortname = 'madhur';
  var disqus_identifier = '/2013/11/05/makingmostdatadirectory/';
  var disqus_title = 'Making most out of _data directory in Jekyll';
  var disqus_url = 'http://madhur.co.in/blog/2013/11/05/makingmostdatadirectory.html';
  (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();

</script>

			
			
			

		</article>

		<div class="c">&nbsp;</div>

	</div>

	
</section>
 
<div class="c">&nbsp;</div>


  
<script type="text/javascript">
    
    var disqus_shortname = 'madhur'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
    }());
</script>

 

 



		</div>
		  
		<footer id="footer" class="span-24 last">
			
				<p id="copyright">
					&copy; 2011-2014
					Madhur Ahuja
				</p>
				<p id="poweredby">
					Powered by 
					<a href="http://jekyllrb.com" title="A static, minimalist CMS">Jekyll</a>, <a href="http://github.com/">Github</a> and <a href="http://disqus.com">Disqus</a>.
				</p>

				<div class="c">&nbsp;</div>

			
		</footer>

	</div>

</div>

</body>
</html>
