<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8" /> 
    <title>Tools to test remote connectivity in Linux &#8211; Madhur Ahuja</title>
    

    <meta name="author" content="Madhur Ahuja" />
    <meta name="description" content=" Tools to test remote connectivity in Linux" />

    <link rel="start" href="/" />

    <link rel="alternate" type="application/atom+xml" href="http://feeds.feedburner.com/madhur" title="RSS feed" />
    <link rel="shortcut icon" href="http://www.gravatar.com/avatar/5352cde0b084abcd6d4d783c08a51c76?s=16" />

    <link rel="stylesheet" href="/files/css/bootstrap.min.css" type="text/css" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="/files/font-awesome/css/font-awesome.min.css" type="text/css" />
    <link rel="stylesheet" href="/files/css/jquery.fancybox.css" type="text/css" />

    <link rel="stylesheet" type="text/css" href="/files/css/styles.css" /> 
    <link rel="stylesheet" type="text/css" href="/files/css/syntax.css" /> 

     <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-N14VDHYFHQ"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-N14VDHYFHQ');
</script> 
    <link rel="stylesheet" type="text/css" media="print" href="/files/css/print.css"> 

    <script src="/files/js/vendor/pace.min.js" type="text/javascript"></script>
</head>


<body>

    <div class="container">

        <header id="header" class="row">

            <nav id="navigation" class="navbar navbar-inverse navbar-fixed-top " role="navigation">
    <div class="container">

        <div class="navbar-header">

            <div class="hidden-md hidden-sm hidden-lg searchli">

                <form method="get" role="search" id="searchform" action="/results" onsubmit="return checkfrm_search();">

                    <div class="form-group">
                        <input type="search" required id="q2" name="q" value="" class="form-control mobile"
                            placeholder="Search" />
                    </div>
                </form>
            </div>

            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#mainmenu">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <!--  <a class="navbar-brand " href="/">Home</a> -->
        </div>

        <div class="collapse navbar-collapse" id="mainmenu">
            <ul id="nav" class="nav navbar-nav">

                <li><a class="home" href="/">Home</a>
                </li>
                <li><a class="blog" href="/blog">Blog</a>
                </li>
                <!--<li><a class="work" href="/work">Resume</a></li>-->
                <li><a class="code" href="/projects">Work</a>
                </li>
                <!--<li><a class="papers" href="/papers">Papers</a></li>-->
                <li><a class="info" href="/info">About</a>
                </li>
                <li><a class="contact" href="/contact">Contact</a>
                </li>

            </ul>

            <ul class="nav navbar-nav visible-md visible-lg visible-sm searchbox">
                <li>
                    <form method="get" role="search" id="searchform" action="/results"
                        onsubmit="return checkfrm_search();">

                        <div class="form-group">
                            <input type="search" required id="q1" name="q" value="" class="form-control desktop"
                                placeholder="Search" />
                        </div>
                    </form>
                </li>
            </ul>


            <ul class="nav-icons navbar-right nav navbar-nav visible-md visible-lg">
                <li><a href="http://www.linkedin.com/in/madhurahuja"><i class="fa fa-linkedin-square fa-3x"></i></a>
                </li>
                <li><a href="https://github.com/madhur"><i class="fa fa-github fa-3x"></i></a>
                </li>
                <li><a href="http://feeds.feedburner.com/madhur"><i class="fa fa-rss-square fa-3x"></i></a>
                </li>
            </ul>


        </div>

    </div>
</nav>

        </header>

        <div id="content" class="row">

            <section>

	<div id="blogcontent">


		<article id="blog-article" class="post col-md-12 clearfix">

			<header>
				<h1>Tools to test remote connectivity in Linux</h1>
			</header>

			<div class="row social hidden-xs">
    <div class="col-md-2 col-sm-2">
        <time datetime="2020-05-01 00:00:00 +0530" pubdate="pubdate"
            >01 May 2020</time
        >
    </div>
    <div class="social-icon col-md-2 col-sm-2">
       <a href="https://twitter.com/madhur25?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-count="false">Follow @madhur25</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    </div>
    <div class="social-icon col-md-1 col-sm-2">
        <a
            href="https://twitter.com/share?ref_src=twsrc%5Etfw"
            class="twitter-share-button"
            data-via="madhur25"
            data-show-count="false"
            >Tweet</a
        >
        <script
            async
            src="https://platform.twitter.com/widgets.js"
            charset="utf-8"
        ></script>
    </div>

    <div class="social-icon col-md-1 col-sm-2">
        <a
            data-pocket-label="pocket"
            data-pocket-count="horizontal"
            class="pocket-btn"
            data-lang="en"
        ></a>
        <script type="text/javascript">
            !(function (d, i) {
                if (!d.getElementById(i)) {
                    var j = d.createElement("script");
                    j.id = i;
                    j.src = "https://widgets.getpocket.com/v1/j/btn.js?v=1";
                    var w = d.getElementById(i);
                    d.body.appendChild(j);
                }
            })(document, "pocket-btn-js");
        </script>
    </div>
</div>


			<hr style="margin-top:0px" />


			<p>In this post, we will look at tools to test remote connectivity in Linux. With increasing usage of firewalls, server hardening due to cyber attacks, it becomes important to determine appropriate connectivity between two hots. Note that, we are looking for connectivity tests w.r.t. server systems such as databases, application servers etc.</p>

<p>Organizations having multiple datacenters, systems running in private / public clouds, accessing vendor partner systems, its important to have a know how to determine if the a system is able to connect to a remote system or not.</p>

<p>Note that our focus will be on covering out of the box tools in Linux and not any custom built tools by 3rd party.</p>

<p>So, let’s get down to it.</p>

<ul>
  <li><a href="#ping">ping</a></li>
  <li><a href="#telnet">telnet</a></li>
  <li><a href="#netcat-nc">netcat (nc)</a></li>
  <li><a href="#curl">curl</a></li>
  <li><a href="#netstat">netstat</a></li>
  <li><a href="#nmap">nmap</a></li>
</ul>

<p><a name="ping"></a></p>

<h1 id="ping">ping</h1>
<p><a href="https://en.wikipedia.org/wiki/Ping_(networking_utility)">ping</a> is one of the oldest Linux utilities to test connectivity between two hosts. It works on <a href="https://en.wikipedia.org/wiki/Internet_Control_Message_Protocol">ICMP</a></p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>ping <span class="nt">-c</span> 5 www.example.com
<span class="go">PING www.example.com (93.184.216.34): 56 data bytes
64 bytes from 93.184.216.34: icmp_seq=0 ttl=56 time=11.632 ms
64 bytes from 93.184.216.34: icmp_seq=1 ttl=56 time=11.726 ms
64 bytes from 93.184.216.34: icmp_seq=2 ttl=56 time=10.683 ms
64 bytes from 93.184.216.34: icmp_seq=3 ttl=56 time=9.674 ms
64 bytes from 93.184.216.34: icmp_seq=4 ttl=56 time=11.127 ms

--- www.example.com ping statistics ---
5 packets transmitted, 5 packets received, 0.0% packet loss
round-trip min/avg/max/stddev = 9.674/10.968/11.726/0.748 ms
</span></code></pre></div></div>

<ul>
  <li>The issue with ping is that it does not test TCP connectivity to a particular port. It was designed in mind when there used to be no firewalls or restriction between 2 hosts. But in modern world, ICMP traffic is usually restricted. So its possible that there exists a valid connectivity between two hosts at a particular port while ping command shows unreachable.</li>
</ul>

<p><a name="telnet"></a></p>

<h1 id="telnet">telnet</h1>
<p><a href="https://en.wikipedia.org/wiki/Telnet">Telnet</a> is another utility which has been widely used in history to test connectivity between hosts at a specific port. For ex,</p>

<p>if we want to test the connectivity at IP 172.217.163.46 at port 443, we can simply do</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>~ telnet 172.217.163.46 443
<span class="go">Trying 172.217.163.46...
Connected to maa05s01-in-f14.1e100.net.
Escape character is '^]'.
</span></code></pre></div></div>

<ul>
  <li>The issue with telnet is that it transfer everything in plaintext. So if you type a password in it, it will be transferred without encryption. Due to this reason, many popular flavors of Linux such as Fedora, CentOS and RHEL do not include this utility anymore in standard Linux distribution. It can be installed manually through <code class="language-plaintext highlighter-rouge">yum install telnet</code> though.</li>
</ul>

<p><a name="nc"></a></p>

<h1 id="netcat-nc">netcat (nc)</h1>
<p><a href="https://en.wikipedia.org/wiki/Netcat">Netcat or nc</a> is by far the most currently popular tool right now. It is very powerful as it allows you to even setup your own server and is generally referred to as swiss army knife.</p>

<p>Taking the same above example,</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>~ nc <span class="nt">-v</span>  172.217.163.46 443
<span class="go">found 0 associations
found 1 connections:
</span><span class="gp">     1:	flags=82&lt;CONNECTED,PREFERRED&gt;</span><span class="w">
</span><span class="go">	outif en0
	src 192.168.1.96 port 55004
	dst 172.217.163.46 port 443
	rank info not available
	TCP aux info available
</span></code></pre></div></div>
<ul>
  <li>
    <p>It can do port scanning</p>
  </li>
  <li>
    <p>It can test out UDP ports too</p>
  </li>
</ul>

<p><a name="curl"></a></p>

<h1 id="curl">curl</h1>
<p><a href="https://curl.haxx.se/docs/manpage.html#-k">curl</a> is the best tool if you are dealing with HTTP / HTTPS traffic.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>~ curl <span class="nt">-k</span> https://172.217.163.46
<span class="gp">&lt;HTML&gt;</span>&lt;HEAD&gt;&lt;meta http-equiv<span class="o">=</span><span class="s2">"content-type"</span> <span class="nv">content</span><span class="o">=</span><span class="s2">"text/html;charset=utf-8"</span><span class="o">&gt;</span>
<span class="gp">&lt;TITLE&gt;</span>301 Moved&lt;/TITLE&gt;&lt;/HEAD&gt;&lt;BODY&gt;
<span class="gp">&lt;H1&gt;</span>301 Moved&lt;/H1&gt;
<span class="go">The document has moved
</span><span class="gp">&lt;A HREF="http://www.google.com/"&gt;</span>here&lt;/A&gt;.
<span class="gp">&lt;/BODY&gt;</span>&lt;/HTML&gt;
</code></pre></div></div>
<p>-k option is used to skip SSL check.</p>

<p>Using verbose option (-vvv) can give you much more information about HTTP version, headers and TLS version.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">$</span><span class="w"> </span>~ curl <span class="nt">-vvv</span> <span class="nt">-k</span> https://172.217.163.46
<span class="go">* Rebuilt URL to: https://172.217.163.46/
*   Trying 172.217.163.46...
* TCP_NODELAY set
</span><span class="gp">* Connected to 172.217.163.46 (172.217.163.46) port 443 (#</span>0<span class="o">)</span>
<span class="go">* ALPN, offering h2
* ALPN, offering http/1.1
* Cipher selection: ALL:!EXPORT:!EXPORT40:!EXPORT56:!aNULL:!LOW:!RC4:@STRENGTH
* successfully set certificate verify locations:
*   CAfile: /etc/ssl/cert.pem
  CApath: none
* TLSv1.2 (OUT), TLS handshake, Client hello (1):
* TLSv1.2 (IN), TLS handshake, Server hello (2):
* TLSv1.2 (IN), TLS handshake, Certificate (11):
* TLSv1.2 (IN), TLS handshake, Server key exchange (12):
* TLSv1.2 (IN), TLS handshake, Server finished (14):
* TLSv1.2 (OUT), TLS handshake, Client key exchange (16):
* TLSv1.2 (OUT), TLS change cipher, Client hello (1):
* TLSv1.2 (OUT), TLS handshake, Finished (20):
* TLSv1.2 (IN), TLS change cipher, Client hello (1):
* TLSv1.2 (IN), TLS handshake, Finished (20):
* SSL connection using TLSv1.2 / ECDHE-RSA-CHACHA20-POLY1305
* ALPN, server accepted to use h2
* Server certificate:
</span><span class="gp">*  subject: C=US;</span><span class="w"> </span><span class="nv">ST</span><span class="o">=</span>California<span class="p">;</span> <span class="nv">L</span><span class="o">=</span>Mountain View<span class="p">;</span> <span class="nv">O</span><span class="o">=</span>Google LLC<span class="p">;</span> <span class="nv">CN</span><span class="o">=</span><span class="k">*</span>.google.com
<span class="go">*  start date: Apr  7 09:27:14 2020 GMT
*  expire date: Jun 30 09:27:14 2020 GMT
</span><span class="gp">*  issuer: C=US;</span><span class="w"> </span><span class="nv">O</span><span class="o">=</span>Google Trust Services<span class="p">;</span> <span class="nv">CN</span><span class="o">=</span>GTS CA 1O1
<span class="go">*  SSL certificate verify ok.
* Using HTTP2, server supports multi-use
* Connection state changed (HTTP/2 confirmed)
* Copying HTTP/2 data in stream buffer to connection buffer after upgrade: len=0
* Using Stream ID: 1 (easy handle 0x7fb685003c00)
</span><span class="gp">&gt;</span><span class="w"> </span>GET / HTTP/2
<span class="gp">&gt;</span><span class="w"> </span>Host: 172.217.163.46
<span class="gp">&gt;</span><span class="w"> </span>User-Agent: curl/7.54.0
<span class="gp">&gt;</span><span class="w"> </span>Accept: <span class="k">*</span>/<span class="k">*</span>
<span class="gp">&gt;</span><span class="w">
</span><span class="go">* Connection state changed (MAX_CONCURRENT_STREAMS updated)!
&lt; HTTP/2 301
&lt; location: http://www.google.com/
</span><span class="gp">&lt; content-type: text/html;</span><span class="w"> </span><span class="nv">charset</span><span class="o">=</span>UTF-8
<span class="go">&lt; date: Fri, 01 May 2020 14:27:00 GMT
&lt; expires: Sun, 31 May 2020 14:27:00 GMT
&lt; cache-control: public, max-age=2592000
&lt; server: gws
&lt; content-length: 219
&lt; x-xss-protection: 0
&lt; x-frame-options: SAMEORIGIN
</span><span class="gp">&lt; alt-svc: h3-Q050=":443";</span><span class="w"> </span><span class="nv">ma</span><span class="o">=</span>2592000,h3-Q049<span class="o">=</span><span class="s2">":443"</span><span class="p">;</span> <span class="nv">ma</span><span class="o">=</span>2592000,h3-Q048<span class="o">=</span><span class="s2">":443"</span><span class="p">;</span> <span class="nv">ma</span><span class="o">=</span>2592000,h3-Q046<span class="o">=</span><span class="s2">":443"</span><span class="p">;</span> <span class="nv">ma</span><span class="o">=</span>2592000,h3-Q043<span class="o">=</span><span class="s2">":443"</span><span class="p">;</span> <span class="nv">ma</span><span class="o">=</span>2592000,quic<span class="o">=</span><span class="s2">":443"</span><span class="p">;</span> <span class="nv">ma</span><span class="o">=</span>2592000<span class="p">;</span> <span class="nv">v</span><span class="o">=</span><span class="s2">"46,43"</span>
<span class="go">&lt;
</span><span class="gp">&lt;HTML&gt;</span>&lt;HEAD&gt;&lt;meta http-equiv<span class="o">=</span><span class="s2">"content-type"</span> <span class="nv">content</span><span class="o">=</span><span class="s2">"text/html;charset=utf-8"</span><span class="o">&gt;</span>
<span class="gp">&lt;TITLE&gt;</span>301 Moved&lt;/TITLE&gt;&lt;/HEAD&gt;&lt;BODY&gt;
<span class="gp">&lt;H1&gt;</span>301 Moved&lt;/H1&gt;
<span class="go">The document has moved
</span><span class="gp">&lt;A HREF="http://www.google.com/"&gt;</span>here&lt;/A&gt;.
<span class="gp">&lt;/BODY&gt;</span>&lt;/HTML&gt;
<span class="gp">* Connection #</span>0 to host 172.217.163.46 left intact
</code></pre></div></div>

<p><a name="netstat"></a></p>

<h1 id="netstat">netstat</h1>
<p><a href="https://linux.die.net/man/8/netstat">netstat</a> is another one of mine favorite tools. Though, it doesn’t allow you to test the connectivity with the new host, its the best tool if you want to view the list of already 
connected hosts.</p>

<div class="language-console highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gp">#</span><span class="w"> </span>~ netstat <span class="nt">-tun</span>
<span class="go">Active Internet connections (w/o servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State
tcp        0      0 10.33.128.63:36352      10.12.24.223:9092       ESTABLISHED
tcp        0      0 10.33.128.63:22         172.29.124.150:63515    ESTABLISHED
tcp        0      0 10.33.128.63:55638      10.12.38.199:9997       TIME_WAIT
tcp        0      0 10.33.128.63:45938      10.36.66.150:5000       ESTABLISHED
tcp        0      0 10.33.128.63:37738      10.12.38.187:9997       TIME_WAIT
tcp        0      0 10.33.128.63:44620      10.12.38.206:9997       ESTABLISHED
tcp        0      0 10.33.128.63:33676      10.33.128.63:22         TIME_WAIT
tcp        0      0 10.33.128.63:41616      10.12.24.222:9092       ESTABLISHED
tcp        0     52 10.33.128.63:22         172.28.96.245:58173     ESTABLISHED
</span></code></pre></div></div>

<p>It also gives the state of TCP port as well (ESTABLISHED, TIME_WAIT, LISTENING)</p>

<p><a name="nmap"></a></p>

<h1 id="nmap">nmap</h1>
<p><a href="https://nmap.org/">nmap</a> is one of the most advanced tools out of these. It might not be installed out of the box in every Linux distribution.
It is considered a very advanced security tool for OS fingerprinting, port scanning.</p>


			<footer>
				<div class="blocked tags">
					<p>
						
						<a href="/blog/tags/linux">Linux</a> |
						
					</p>
				</div>
			</footer>

			<br />



			<div class="hr"></div>




			<!-- Discus Comments -->
			<div id="disqus_thread"></div>

			
			<!-- Enable Disqus comments -->
			<script type="text/javascript">
  var disqus_developer = 0; // developer mode is on
  var disqus_shortname = 'madhur';
  var disqus_identifier = '/2020/05/01/tools-test-connectivity-linux/';
  var disqus_title = 'Tools to test remote connectivity in Linux';
  var disqus_url = 'https://madhur.co.in/blog/2020/05/01/tools-test-connectivity-linux.html';
  (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();

</script>

			




		</article>

		<div class="c">&nbsp;</div>

	</div>


</section>

<div class="c">&nbsp;</div>

        </div>


        <footer id="footer" class="row">

            <p id="copyright">
                &copy; 2011-2024 Madhur Ahuja
            </p>
            <p id="poweredby" class="visible-lg visible-md">
                Powered by
                <a href="http://jekyllrb.com" title="A static, minimalist CMS">Jekyll</a>,
                <a href="http://github.com/">Github</a> and
                <a href="http://disqus.com">Disqus</a>.
            </p>

            <div class="c">&nbsp;</div>


        </footer>


    </div>

    <script data-main="/files/js/app" src="/files/js/require.js"></script> 
    

    <!-- serviceWorker.html -->
    <script>
        if ('serviceWorker' in navigator) {

            navigator.serviceWorker.getRegistrations().then(function (registrations) {
                for (let registration of registrations) {
                    registration.unregister()
                }
            })
        }

// if ('serviceWorker' in navigator) {
//     navigator.serviceWorker.register('/serviceWorker.js').then(function(reg) {
//         if (!reg.installing) return;
//         console.log("[*] ServiceWorker is installing...");

//         var worker = reg.installing;
//         worker.addEventListener('statechange', function() {
//             if (worker.state == 'redundant') {
//                 console.log('[*] Install failed');
//             }
//             if (worker.state == 'installed') {
//                 console.log('[*] Install successful!');
//             }
//         });
//     });
// }

    </script>

</body>

</html>