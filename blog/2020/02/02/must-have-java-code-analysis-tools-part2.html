<!DOCTYPE html>

<html lang="en">

<head>
    <meta charset="utf-8" /> 
    <title>Must have Java code analysis Tools - Part 2 &#8211; Madhur Ahuja</title>
    

    <meta name="author" content="Madhur Ahuja" />
    <meta name="description" content=" Must have Java code analysis Tools - Part 2" />

    <link rel="start" href="/" />

    <link rel="alternate" type="application/atom+xml" href="http://feeds.feedburner.com/madhur" title="RSS feed" />
    <link rel="shortcut icon" href="http://www.gravatar.com/avatar/5352cde0b084abcd6d4d783c08a51c76?s=16" />

    <link rel="stylesheet" href="/files/css/bootstrap.min.css" type="text/css" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="/files/font-awesome/css/font-awesome.min.css" type="text/css" />
    <link rel="stylesheet" href="/files/css/jquery.fancybox.css" type="text/css" />

    <link rel="stylesheet" type="text/css" href="/files/css/styles.css" /> 
    <link rel="stylesheet" type="text/css" href="/files/css/syntax.css" /> 

    <link rel="stylesheet" type="text/css" media="print" href="/files/css/print.css"> 

    <script src="/files/js/vendor/pace.min.js" type="text/javascript"></script>
</head>

<body>

    <div class="container">

        <header id="header" class="row">

            <nav id="navigation" class="navbar navbar-inverse navbar-fixed-top " role="navigation">
    <div class="container">

    <div class="navbar-header">

     <div class="hidden-md hidden-sm hidden-lg searchli">

                <form method="get" role="search" id="searchform" action="/results" onsubmit="return checkfrm_search();">

                    <div class="form-group">
                        <input type="search" required id="q2" name="q" value="" class="form-control mobile" placeholder="Search" />
                    </div>
                </form>
        </div>

        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#mainmenu">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
        </button>
        <!--  <a class="navbar-brand " href="/">Home</a> -->
    </div>

    <div class="collapse navbar-collapse" id="mainmenu">
        <ul id="nav" class="nav navbar-nav">
            
            <li><a class="home" href="/">Home</a>
            </li>
            <li><a class="blog" href="/blog">Blog</a>
            </li>
            <!--<li><a class="work" href="/work">Resume</a></li>-->
            <li><a class="code" href="/projects">Work</a>
            </li>
            <!--<li><a class="papers" href="/papers">Papers</a></li>-->
            <li><a class="info" href="/info">About</a>
            </li>
            <li><a class="contact" href="/contact">Contact</a>
            </li>

        </ul>

        <ul class="nav navbar-nav visible-md visible-lg visible-sm searchbox">
            <li>
                <form method="get" role="search" id="searchform" action="/results" onsubmit="return checkfrm_search();">

                    <div class="form-group">
                        <input type="search" required id="q1" name="q" value="" class="form-control desktop" placeholder="Search" />
                    </div>
                </form>
            </li>
        </ul>


        <ul class="nav-icons navbar-right nav navbar-nav visible-md visible-lg">
            <li><a href="http://www.linkedin.com/in/madhurahuja"><i class="fa fa-linkedin-square fa-3x"></i></a>
            </li>
            <li><a href="https://github.com/madhur"><i class="fa fa-github fa-3x"></i></a>
            </li>
            <li><a href="http://feeds.feedburner.com/madhur"><i class="fa fa-rss-square fa-3x"></i></a>
            </li>
        </ul>


    </div>

</div>
</nav>


        </header>

        <div id="content" class="row">

            <section>

	<div id="blogcontent">

		<!--<aside class="postmeta col-md-3 hidden-print visible-md visible-lg">

			

		</aside>-->

		<article id="blog-article" class="post col-md-12 clearfix">

				<header><h1>Must have Java code analysis Tools - Part 2</h1></header>
			
					<!-- Place this tag where you want the +1 button to render -->
<div class="row social hidden-xs">
    <div class="col-md-2 col-sm-2">
        <time datetime="2020-02-02 00:00:00 +0530" pubdate="pubdate"
            >02 February 2020</time
        >
    </div>
    <div class="social-icon col-md-2 col-sm-2">
       <a href="https://twitter.com/madhur25?ref_src=twsrc%5Etfw" class="twitter-follow-button" data-show-count="false">Follow @madhur25</a><script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    </div>
    <div class="social-icon col-md-1 col-sm-2">
        <a
            href="https://twitter.com/share?ref_src=twsrc%5Etfw"
            class="twitter-share-button"
            data-via="madhur25"
            data-show-count="false"
            >Tweet</a
        >
        <script
            async
            src="https://platform.twitter.com/widgets.js"
            charset="utf-8"
        ></script>
    </div>
    <div class="social-icon col-md-1 col-sm-2">
        <script src="https://platform.linkedin.com/in.js" type="text/javascript">lang: en_US</script>
        <script type="IN/Share" data-counter="right"></script>
    </div>

    <!-- <div class="social-icon col-md-1 col-sm-2">
        <a
            href="http://bufferapp.com/add"
            class="buffer-add-button"
            data-count="horizontal"
            >Buffer</a
        >
        <script
            type="text/javascript"
            src="https://d389zggrogs7qo.cloudfront.net/js/button.js"
        ></script>
    </div> -->
    <div class="social-icon col-md-1 col-sm-2">
        <a
            data-pocket-label="pocket"
            data-pocket-count="horizontal"
            class="pocket-btn"
            data-lang="en"
        ></a>
        <script type="text/javascript">
            !(function (d, i) {
                if (!d.getElementById(i)) {
                    var j = d.createElement("script");
                    j.id = i;
                    j.src = "https://widgets.getpocket.com/v1/j/btn.js?v=1";
                    var w = d.getElementById(i);
                    d.body.appendChild(j);
                }
            })(document, "pocket-btn-js");
        </script>
    </div>
    <!-- <div class="social-icon col-md-2 col-sm-2">
        <script
            type="text/javascript"
            src="//www.redditstatic.com/button/button1.js"
        ></script>
    </div> -->
</div>


			<hr style="margin-top:0px" />


			 <ul>
  <li><a href="/blog/2020/01/26/must-have-java-code-analysis-tools-part1.html">Must have Java code analysis Tools - Part 1</a></li>
  <li><a href="/blog/2020/02/15/must-have-java-code-analysis-tools-part3.html">Must have Java code analysis Tools - Part 3</a></li>
</ul>

<p>In the last post, we looked at <a href="https://github.com/checkstyle/checkstyle">checkstyle</a>, which focuses on the code linting at the source level.</p>

<p>In this post, we will look at <a href="https://spotbugs.github.io/">SpotBugs</a>, which is a successor of <a href="http://findbugs.sourceforge.net/">FindBugs</a>. SpotBugs works at the bytecode level instead of the source level. Hence it is able, to find out possible bugs in your java code.</p>

<p>The list of entire checks which SpotBugs finds can be found <a href="https://spotbugs.readthedocs.io/en/latest/bugDescriptions.html">here</a></p>

<h2 id="running-with-build-process">Running with build process</h2>

<p>Again, SpotBugs is most useful when integrated with build tool such as Maven or Gradle.</p>

<p>For example, We use the following section in <a href="https://maven.apache.org/guides/introduction/introduction-to-the-pom.html">pom.xml</a> to run SpotBugs as part of build process</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;plugin&gt;</span>
	<span class="nt">&lt;groupId&gt;</span>com.github.spotbugs<span class="nt">&lt;/groupId&gt;</span>
	<span class="nt">&lt;artifactId&gt;</span>spotbugs-maven-plugin<span class="nt">&lt;/artifactId&gt;</span>
	<span class="nt">&lt;version&gt;</span>${spotbugs.version}<span class="nt">&lt;/version&gt;</span>
	<span class="nt">&lt;configuration&gt;</span>
		<span class="nt">&lt;effort&gt;</span>Max<span class="nt">&lt;/effort&gt;</span>
		<span class="nt">&lt;threshold&gt;</span>Low<span class="nt">&lt;/threshold&gt;</span>
		<span class="nt">&lt;xmlOutput&gt;</span>true<span class="nt">&lt;/xmlOutput&gt;</span>
		<span class="nt">&lt;failOnError&gt;</span>true<span class="nt">&lt;/failOnError&gt;</span>
		<span class="nt">&lt;excludeFilterFile&gt;</span>spotbugs-exclude.xml<span class="nt">&lt;/excludeFilterFile&gt;</span>
	<span class="nt">&lt;/configuration&gt;</span>
		<span class="nt">&lt;executions&gt;</span>
			<span class="nt">&lt;execution&gt;</span>
				<span class="nt">&lt;phase&gt;</span>compile<span class="nt">&lt;/phase&gt;</span>
				<span class="nt">&lt;goals&gt;</span>
					<span class="nt">&lt;goal&gt;</span>check<span class="nt">&lt;/goal&gt;</span>
				<span class="nt">&lt;/goals&gt;</span>
			<span class="nt">&lt;/execution&gt;</span>
		<span class="nt">&lt;/executions&gt;</span>
	<span class="nt">&lt;/plugin&gt;</span>
</code></pre></div></div>

<p>Here setting <code class="language-plaintext highlighter-rouge">failsOnError</code>  attribute <code class="language-plaintext highlighter-rouge">true</code> causes the build to fail if violations are fail.</p>

<p>There might be certain bugs, which you do not want SpotBugs to alert on. They can be configured in an exclusion file. As shown in the above example, it is configured in <code class="language-plaintext highlighter-rouge">spotbugs-exclude.xml</code>.</p>

<p>The exclusions can be configured at class level or even method level. Below XML is an example of exclusion file.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- This file specifies a spotbugs filter for excluding reports that
     should not be considered errors.

     The format of this file is documented at:

       https://spotbugs.readthedocs.io/en/latest/filter.html

     When possible, please specify the full names of the bug codes,
     using the pattern attribute, to make it clearer what reports are
     being suppressed.  You can find a listing of codes at:

       https://spotbugs.readthedocs.io/en/latest/bugDescriptions.html
  --&gt;</span>

<span class="nt">&lt;FindBugsFilter&gt;</span>

    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Or&gt;</span>
            <span class="c">&lt;!-- Ignore checking for generated parser classes --&gt;</span>
            <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.client.http.HttpResponseParser$$generated"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.server.protocol.http.HttpRequestParser$$generated"</span><span class="nt">/&gt;</span>
            <span class="c">&lt;!-- Ignore checking for generated JMH benchmarking classes --&gt;</span>
            <span class="nt">&lt;Package</span> <span class="na">name=</span><span class="s">"io.undertow.benchmarks.generated"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/Or&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="c">&lt;!-- Ignore spotbugs reports from incomplete detectors --&gt;</span>
    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"TESTING"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="c">&lt;!-- We don't mind having redundant checks for null, it is more error prone to later changes --&gt;</span>
    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"RCN_REDUNDANT_NULLCHECK_OF_NONNULL_VALUE"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="c">&lt;!-- Ignore negating result of compareTo --&gt;</span>
    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"RV_NEGATING_RESULT_OF_COMPARETO"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="c">&lt;!-- Ignore class naming convention issues --&gt;</span>
    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"NM_CLASS_NAMING_CONVENTION"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="c">&lt;!-- Ignore unread public and protected fields as someone may depend on Undertow and use them in their app --&gt;</span>
    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"URF_UNREAD_PUBLIC_OR_PROTECTED_FIELD"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="c">&lt;!-- False positives =&gt; ignoring, the field is read in tests --&gt;</span>
    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"URF_UNREAD_FIELD"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Or&gt;</span>
            <span class="nt">&lt;And&gt;</span>
                <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.server.protocol.ajp.AjpRequestParseState"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;Field</span> <span class="na">name=</span><span class="s">"dataSize"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/And&gt;</span>
        <span class="nt">&lt;/Or&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="c">&lt;!-- False positives =&gt; ignoring, the field is regular boolean, no complex bitwise operation is in place here --&gt;</span>
    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"BIT_IOR"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Or&gt;</span>
            <span class="nt">&lt;And&gt;</span>
                <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.conduits.AbstractFixedLengthStreamSinkConduit"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/And&gt;</span>
        <span class="nt">&lt;/Or&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="c">&lt;!-- field is always incremented/decremented inside synchronized blocks using the same lock --&gt;</span>
    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"VO_VOLATILE_INCREMENT"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Or&gt;</span>
            <span class="nt">&lt;And&gt;</span>
                <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.server.protocol.framed.AbstractFramedStreamSinkChannel"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;Field</span> <span class="na">name=</span><span class="s">"waiterCount"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/And&gt;</span>
            <span class="nt">&lt;And&gt;</span>
                <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.server.handlers.proxy.mod_cluster.NodeLbStatus"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;Field</span> <span class="na">name=</span><span class="s">"elected"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/And&gt;</span>
            <span class="nt">&lt;And&gt;</span>
                <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.websockets.jsr.SessionContainer"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;Field</span> <span class="na">name=</span><span class="s">"waiterCount"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/And&gt;</span>
        <span class="nt">&lt;/Or&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="c">&lt;!--Stream id in HTTP/2 is always unsigned int per spec --&gt;</span>
    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"IM_BAD_CHECK_FOR_ODD"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.protocols.http2.Http2Channel"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Method</span> <span class="na">name=</span><span class="s">"isClient"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="c">&lt;!-- Even per javadoc of Object.wait(), this should be always used in loop. It is on purpose --&gt;</span>
    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"WA_NOT_IN_LOOP"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Or&gt;</span>
            <span class="nt">&lt;And&gt;</span>
                <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.protocols.ssl.SslConduit"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;Method</span> <span class="na">name=</span><span class="s">"~await.*"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/And&gt;</span>
            <span class="nt">&lt;And&gt;</span>
                <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.server.protocol.framed.AbstractFramedStreamSourceChannel"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;Method</span> <span class="na">name=</span><span class="s">"awaitReadable"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/And&gt;</span>
            <span class="nt">&lt;And&gt;</span>
                <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.server.protocol.framed.AbstractFramedStreamSinkChannel"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;Method</span> <span class="na">name=</span><span class="s">"awaitWritable"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/And&gt;</span>
        <span class="nt">&lt;/Or&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="c">&lt;!-- Ignore returning references to internal representations of objects --&gt;</span>
    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"EI_EXPOSE_REP"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="c">&lt;!-- Ignoring when internal representation stores reference to external representation --&gt;</span>
    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"EI_EXPOSE_REP2"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="c">&lt;!-- Intentional switch case follow through --&gt;</span>
    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"SF_SWITCH_FALLTHROUGH"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Or&gt;</span>
            <span class="nt">&lt;And&gt;</span>
                <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.protocols.ajp.AjpResponseParser"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;Method</span> <span class="na">name=</span><span class="s">"parse"</span> <span class="na">params=</span><span class="s">"java.nio.ByteBuffer"</span> <span class="na">returns=</span><span class="s">"void"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/And&gt;</span>
            <span class="nt">&lt;And&gt;</span>
                <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.server.protocol.ajp.AjpRequestParser"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;Method</span> <span class="na">name=</span><span class="s">"parse"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/And&gt;</span>
            <span class="nt">&lt;And&gt;</span>
                <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.util.Cookies"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;Method</span> <span class="na">name=</span><span class="s">"parseCookie"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/And&gt;</span>
            <span class="nt">&lt;And&gt;</span>
                <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.util.PathTemplate"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;Method</span> <span class="na">name=</span><span class="s">"create"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/And&gt;</span>
        <span class="nt">&lt;/Or&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="c">&lt;!-- Path has always some elements in our cases =&gt; ignoring --&gt;</span>
    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"NP_NULL_ON_SOME_PATH_FROM_RETURN_VALUE"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.server.handlers.resource.PathResource"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="c">&lt;!-- The PathTemplate equivalent always exist, checked already by the contains method --&gt;</span>
    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"NP_NULL_ON_SOME_PATH"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.util.PathTemplateMatcher"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="c">&lt;!-- Ignoring switch cases with no default, all cases which can occur are covered --&gt;</span>
    <span class="c">&lt;!-- TODO: Discuss with developer, whether not to add there some exception being thrown in such cases --&gt;</span>
    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"SF_SWITCH_NO_DEFAULT"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>


    <span class="c">&lt;!-- Intentional throwing RuntimeException instead of checked exception --&gt;</span>
    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"REC_CATCH_EXCEPTION"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Or&gt;</span>
            <span class="c">&lt;!-- Intentional throwing RuntimeException instead of checked exception --&gt;</span>
            <span class="nt">&lt;And&gt;</span>
                <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.Undertow"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;Method</span> <span class="na">name=</span><span class="s">"start"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/And&gt;</span>

            <span class="c">&lt;!-- Intentional throwing RuntimeException instead of checked exception --&gt;</span>
            <span class="nt">&lt;And&gt;</span>
                <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.server.handlers.proxy.mod_cluster.MCMPHandler"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;Method</span> <span class="na">name=</span><span class="s">"processConfig"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/And&gt;</span>

            <span class="c">&lt;!-- Intentional not throwing exception --&gt;</span>
            <span class="nt">&lt;And&gt;</span>
                <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.util.FlexBase64$Encoder"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;Method</span> <span class="na">name=</span><span class="s">"encodeString"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/And&gt;</span>

            <span class="c">&lt;!-- Intentional not throwing exception --&gt;</span>
            <span class="nt">&lt;And&gt;</span>
                <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.protocols.alpn.JDK9AlpnProvider$1"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;Method</span> <span class="na">name=</span><span class="s">"run"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;/And&gt;</span>
        <span class="nt">&lt;/Or&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="c">&lt;!-- The SQL is created based on configuration of the Handler =&gt; when proper configuration is created,
    then the risk of SQL injection is evaded --&gt;</span>
    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"SQL_PREPARED_STATEMENT_GENERATED_FROM_NONCONSTANT_STRING"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.server.handlers.JDBCLogHandler"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Method</span> <span class="na">name=</span><span class="s">"prepareStatement"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="c">&lt;!--Some inner subclasses of the AjpClientChannel class require to be non static, we want all of the same type inner --&gt;</span>
    <span class="c">&lt;!--classes to be the same --&gt;</span>
    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"SIC_INNER_SHOULD_BE_STATIC"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"~io\.undertow\.protocols\.ajp\.AjpClientChannel\$.*"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="c">&lt;!-- Is done actually only once, no harm in it --&gt;</span>
    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"DMI_RANDOM_USED_ONLY_ONCE"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.util.HttpString"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"EQ_COMPARETO_USE_OBJECT_EQUALS"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Or&gt;</span>
            <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.server.handlers.encoding.EncodingMapping"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"~.*AlpnOpenListener\$ListenerEntry"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/Or&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="c">&lt;!-- MCMPAdvertiseTask is used only as single background thread for doing advertising --&gt;</span>
    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"STCAL_INVOKE_ON_STATIC_DATE_FORMAT_INSTANCE"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.server.handlers.proxy.mod_cluster.MCMPAdvertiseTask"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>


    <span class="c">&lt;!--We don't care whether it is Runtime or checked exception--&gt;</span>
    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"REC_CATCH_EXCEPTION"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.servlet.handlers.security.SSLInformationAssociationHandler"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Method</span> <span class="na">name=</span><span class="s">"getCerts"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="c">&lt;!--Ignoring checking for examples--&gt;</span>
    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Package</span> <span class="na">name=</span><span class="s">"~io\.undertow\.examples.*"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="c">&lt;!-- The proper class type returned is handled by createInstance() method being overridden for each subclass =&gt; ignoring --&gt;</span>
    <span class="nt">&lt;Match&gt;</span>

        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"CN_IDIOM_NO_SUPER_CALL"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Or&gt;</span>
            <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.servlet.api.SecurityInfo"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.servlet.api.AuthMethodConfig"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.servlet.api.DeploymentInfo"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.servlet.api.LoginConfig"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.servlet.api.FilterInfo"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.servlet.api.ServletInfo"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.websockets.jsr.WebSocketDeploymentInfo"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/Or&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="c">&lt;!-- intentional --&gt;</span>
    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"DM_DEFAULT_ENCODING"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Or&gt;</span>
            <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.servlet.spec.ServletPrintWriterDelegate"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;/Or&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"UG_SYNC_SET_UNSYNC_GET"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.servlet.spec.AsyncContextImpl"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"RV_RETURN_VALUE_IGNORED_NO_SIDE_EFFECT"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"DLS_DEAD_LOCAL_STORE"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.predicate.PredicatesHandler$RestartHandlerBuilder$1$1"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Method</span> <span class="na">name=</span><span class="s">"handleRequest"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>

    <span class="c">&lt;!-- Method is actually fine--&gt;</span>
    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"NP_NONNULL_PARAM_VIOLATION"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.server.protocol.http.AlpnOpenListener$AlpnConnectionListener"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>
    <span class="c">&lt;!-- Field can be modified by code between the first check--&gt;</span>
    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"RCN_REDUNDANT_NULLCHECK_WOULD_HAVE_BEEN_A_NPE"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.client.http.HttpClientConnection$ClientReadListener"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>
    <span class="c">&lt;!-- Comparison of cookies path and domain with == before invoking equals is necessary because
         both could be null; only if the == fails we check for one of them != null &amp;&amp; equals the other --&gt;</span>
    <span class="nt">&lt;Match&gt;</span>
        <span class="nt">&lt;Bug</span> <span class="na">pattern=</span><span class="s">"ES_COMPARING_STRINGS_WITH_EQ"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Class</span> <span class="na">name=</span><span class="s">"io.undertow.servlet.spec.HttpServletResponseImpl"</span><span class="nt">/&gt;</span>
        <span class="nt">&lt;Method</span> <span class="na">name=</span><span class="s">"addCookie"</span><span class="nt">/&gt;</span>
    <span class="nt">&lt;/Match&gt;</span>
<span class="nt">&lt;/FindBugsFilter&gt;</span>
</code></pre></div></div>


			<footer>
				<div class="blocked tags">
					<p>
					
						<a href="/blog/tags/java">Java</a> |
					
					</p>
				</div>
			</footer>
			
			<br/>
		
			
			
			<div class="hr"></div>

		


			<!-- Discus Comments -->
			<div id="disqus_thread"></div>

			
			<!-- Enable Disqus comments -->
			<script type="text/javascript">
  var disqus_developer = 0; // developer mode is on
  var disqus_shortname = 'madhur';
  var disqus_identifier = '/2020/02/02/must-have-java-code-analysis-tools-part2/';
  var disqus_title = 'Must have Java code analysis Tools - Part 2';
  var disqus_url = 'https://madhur.co.in/blog/2020/02/02/must-have-java-code-analysis-tools-part2.html';
  (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();

</script>

			
			
			
			

		</article>

		<div class="c">&nbsp;</div>

	</div>

	
</section>
 
<div class="c">&nbsp;</div>


  

 

 



        </div>


        <footer id="footer" class="row">

            <p id="copyright">
                &copy; 2011-2021 Madhur Ahuja
            </p>
            <p id="poweredby" class="visible-lg visible-md">
                Powered by
                <a href="http://jekyllrb.com" title="A static, minimalist CMS">Jekyll</a>,
                <a href="http://github.com/">Github</a> and
                <a href="http://disqus.com">Disqus</a>.
            </p>

            <div class="c">&nbsp;</div>


        </footer>


    </div>

    <script data-main="/files/js/app" src="/files/js/require.js"></script>  <script type="text/javascript">
	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-23769089-1']);
	  _gaq.push(['_trackPageview']);

	  (function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();

	</script> 

    <!-- serviceWorker.html -->
    <script>
        if ('serviceWorker' in navigator) {

            navigator.serviceWorker.getRegistrations().then(function (registrations) {
                for (let registration of registrations) {
                    registration.unregister()
                }
            })
        }

// if ('serviceWorker' in navigator) {
//     navigator.serviceWorker.register('/serviceWorker.js').then(function(reg) {
//         if (!reg.installing) return;
//         console.log("[*] ServiceWorker is installing...");

//         var worker = reg.installing;
//         worker.addEventListener('statechange', function() {
//             if (worker.state == 'redundant') {
//                 console.log('[*] Install failed');
//             }
//             if (worker.state == 'installed') {
//                 console.log('[*] Install successful!');
//             }
//         });
//     });
// }

    </script>

</body>

</html>